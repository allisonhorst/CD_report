---
title: "Congressional Report Card"
output: 
  html_paged:
    number_sections: false
    css: ["custom.css"]
---

```{r setup, include=FALSE}
library(tidyverse)
library(pagedown)
library(palmerpenguins)
library(patchwork)
library(here)
library(ggplot2)
library(tidyr)
library(dplyr)


knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
```

```{r readData, echo=FALSE}

#reading in all of the data and naming it based on the name of the .csv up to the first 2 underscores
#each time this file is run, change "here" to specify the subfolder for the district or state 

filenames = list.files(here("testdata"), pattern = ".csv")
file_count = length(filenames)
for (i in filenames){  
  name <- gsub("^([^_]*_[^_]*)_.*$","\\1", i)
 # "^([^_]*_[^_]*)_.*$", "\\1",
  assign(name, read_csv(here("testdata", i)))
}



vRCRA <- read.csv(here("MA4_data/MA4_RCRA_violations.csv"))
vRCRA$year <- as.numeric(vRCRA$year)

iRCRA <- read.csv(here("MA4_data/MA4_RCRA_inspections.csv"))
iRCRA$year <- as.numeric(iRCRA$year)

eRCRA <- read.csv(here("MA4_data/MA4_RCRA_enforcement.csv"))
eRCRA$year <- as.numeric(eRCRA$year)

vCAA <- read.csv(here("MA4_data/MA4_CAA_violations.csv"))
vCAA$year <- as.numeric(vCAA$year)

iCAA <- read.csv(here("MA4_data/MA4_CAA_inspections.csv"))
iCAA$year <- as.numeric(iCAA$year)

eCAA <- read.csv(here("MA4_data/MA4_CAA_enforcement.csv"))
eCAA$year <- as.numeric(eCAA$year)

```

<div class="container">
  <img src="factory_unsplash.jpg" alt="Snow" style="width:100%;">
  <div class="top-left">District Info</div>
</div> 

### 6 August 2020  

#### This report was produced by the Environmental Enforcement Watch, a project of EDGI. Data utlizied to produce this report comes from the EPA's Enforcement and Compliance History Online [ECHO](https://echo.epa.gov/). 

<a href="https://www.environmentalenforcementwatch.org/"><img src="eew_logo.png" style="float: left; width: 25%; margin-left: 20%" ></a>

<a href="https://envirodatagov.org/"><img src="edgi_logo.png" style="float: right; width: 35%; margin-right: 20%" ></a>


\pagebreak

<hr style="height:3px;border-width:0;color: #C1E0D7;background-color: #C1E0D7; margin-top: 4em">


##### DISTRICT INFORMATION

# Massachussetts' 4th Congressional District   

## Joe Kennedy 

<a ><img src="Joe_kennedy.jpeg" style="float: left; width: 25%; margin-right: 5%" ></a>

<h2><span style="color:#25539f">Democrat</span></h2>
## Years in Office: 7.5

## Relevant Committee Membership: [Energy and Commerce Committee](https://energycommerce.house.gov/)
<div class="text-box-info">

<p>The House Energy and Commerce Committee is the oldest house committee, and has one of the broadest mandates. Among other things, it has jurisdiction over environmental protection, clean air and climate change, safe drinking water, and toxic chemicals and hazardous waste. Additionally, it has oversight of the Environmental Protection Agency.</p>
</div>
### Relevent Subcommittees: 
1. [Energy](https://energycommerce.house.gov/subcommittees/energy-116th-congress) 
2. [Oversights and Investigations](https://energycommerce.house.gov/subcommittees/oversight-and-investigations-116th-congress) 

## What can Joe Kennedy do? 

<div class="text-box-info">

<p>As a member of this committee and subcommittee, Joe can . . .</p>

</div>

## Cosponsored Bills in Interest Areas 

Pull info from govtrack


\pagebreak

<hr style="height:3px;border-width:0;color: #C1E0D7;background-color: #C1E0D7; margin-top: 4em">

##### DISTRICT INFORMATION

<h1><span style="color:yellow">Highlights for Your District</span></h1>

<a ><img src="MA4_data/ma4_map.jpeg" style="float: right; width: 50%" ></a>


## 2271 regulated facilities in MA 4
### 1743 RCRA facilities 
### 446 CWA facilities
### 464 CAA facilities


### ^turn this into a bar chart comparison with national and statewide numbers


### Put in all of this info once we have it and figure out how to visually represent - 

* Total (all program) violations vs. total facilities 
* Number of recurring violations (3+ quarters in violation) in the last 12 quarters 
* % change in CWA effluent violations
* % change in inspections 
* % change in enforcement $ and # 

\pagebreak

<hr style="height:3px;border-width:0;color: #C1E0D7;background-color: #C1E0D7; margin-top: 4em">

##### DISTRICT INFORMATION

# Your District in Comparison

### Put in all of this info once we have it and figure out how to visually represent - 


* inspections per 100 regulated facilities nationally and statewide 
* violations per 100 regulated facilities nationally and statewide 
* Enforcement fines nationally and statewide 
* GHG emissions nationally and statewide (2018)




\pagebreak

<hr style="height:3px;border-width:0;color: #C1E0D7;background-color: #C1E0D7; margin-top: 4em">

##### Program Specific Information

# Resource Conservation and Recovery Act 


<div class="text-box-info">

The Resource Conservation and Recovery Act (RCRA) gives EPA the authority to 
control hazardous waste from the "cradle-to-grave", regulating the generation, transportation, treatment, storage, and disposal of hazardous waste. Although facilities self-report under RCRA, like the CAA, violations are most often found after an inspection, and a reduction in violations might mean a reduction in inspections. [EPA](https://www.epa.gov/laws-regulations/summary-resource-conservation-and-recovery-act) [More info on RCRA](https://docs.google.com/presentation/d/1lV9b_vkcfCbTz8uss1XjXLHy2svpi2tmizb6et1Wfkc/edit?usp=sharing)

</div>

```{r, fig.height = 5, fig.width = 8, fig.align = "center"} 
largernumbers <- element_text(face = "bold", size = 14)
largernumbers2 <- element_text(face = "bold", size = 12)

vRCRAviol <- ggplot(vRCRA, mapping=aes(x=factor(year), y=RCRA_violations, color=President, group=1))+
  scale_color_manual(values=c("#e56d13" , "#25539f", "#d43a69"))+
  geom_point(size=3)+
  geom_line()+
  labs(y="RCRA violations", x="Year")+
  ggtitle("RCRA violations in MA 4")+
  theme_bw()+
  theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.border = element_blank(),
        axis.line = element_line(colour = "black"),
        axis.title.x=largernumbers,
        axis.text.y=largernumbers2, axis.title.y=largernumbers,plot.title = largernumbers,
        axis.text.x=element_text(angle= 80,hjust=1))

iRCRAinsp <- ggplot(iRCRA, mapping=aes(x=factor(year), y=RCRA_inspections, color=President, group=1))+
  scale_color_manual(values=c("#e56d13" , "#25539f", "#d43a69"))+
  geom_point(size=3)+
  geom_line()+
  labs(y="RCRA Inspections", x="Year")+
  ggtitle("RCRA Inspections in MA 4")+
  theme_bw()+
  theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.border = element_blank(),
        axis.line = element_line(colour = "black"),
        axis.title.x=largernumbers,
        axis.text.y=largernumbers2, axis.title.y=largernumbers,plot.title = largernumbers,
        axis.text.x=element_text(angle= 80,hjust=1))

eRCRAe <- ggplot(eRCRA, mapping=aes(x=factor(year), y=RCRA_enforcement, color=President, group=1))+
  scale_color_manual(values=c("#e56d13" , "#25539f", "#d43a69"))+
  geom_point(size=3)+
  geom_line()+
  labs(y="RCRA Enforcement", x="Year")+
  ggtitle("RCRA Enforcement in MA 4")+
  theme_bw()+
  theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.border = element_blank(),
        axis.line = element_line(colour = "black"),
        axis.title.x=largernumbers,
        axis.text.y=largernumbers2, axis.title.y=largernumbers,plot.title = largernumbers,
        axis.text.x=element_text(angle= 80,hjust=1))


(vRCRAviol | iRCRAinsp) / eRCRAe



```

<div class="body">
### Add here: 

* Enforcement # over time since 2001	
* Number and Naming facilities with top compliance problems past 3 years
</div>

\pagebreak

<hr style="height:3px;border-width:0;color: #C1E0D7;background-color: #C1E0D7; margin-top: 4em">
##### Program Specific Information 

# Clean Air Act

<div class="text-box-info">

The Clean Air Act (CAA) is the comprehensive federal law that regulates air emissions from stationary and mobile sources. Among other things, this law authorizes EPA to establish National Ambient Air Quality Standards (NAAQS) to protect public health and to regulate emissions of hazardous air pollutants [EPA] (https://www.epa.gov/laws-regulations/summary-clean-air-act). For the CAA, inspections are the most common way of identifying violations, so less violations aren't necessarily an improvement. Recent cuts in inspections is likely related to a drop in violations.
[More info on CAA](https://docs.google.com/presentation/d/1MzRQf3QeJqmYMSttdk0ghrXeOmOZgOV_MTynl-ri6Ik/edit?usp=sharing)
</div>

```{r, fig.height = 5, fig.width = 8, fig.align = "center"}
largernumbers <- element_text(face = "bold", size = 14)
largernumbers2 <- element_text(face = "bold", size = 12)

vCAAviol <- ggplot(vCAA, mapping=aes(x=factor(year), y=CAA_violations, color=President, group=1))+
  scale_color_manual(values=c("#25539f", "#d43a69"))+
  geom_point(size=3)+
  geom_line()+
  labs(y="CAA violations", x="Year")+
  ggtitle("CAA violations in MA 4")+
  theme_bw()+
  theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.border = element_blank(),
        axis.line = element_line(colour = "black"),
        axis.title.x=largernumbers,
        axis.text.y=largernumbers2, axis.title.y=largernumbers,plot.title = largernumbers,
        axis.text.x=element_text(angle= 80,hjust=1))

iCAAinsp <- ggplot(iCAA, mapping=aes(x=factor(year), y=CAA_inspections, color=President, group=1))+
  scale_color_manual(values=c("#25539f", "#d43a69"))+
  geom_point(size=3)+
  geom_line()+
  labs(y="CAA Inspections", x="Year")+
  ggtitle("CAA Inspections in MA 4")+
  theme_bw()+
  theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.border = element_blank(),
        axis.line = element_line(colour = "black"),
        axis.title.x=largernumbers,
        axis.text.y=largernumbers2, axis.title.y=largernumbers,plot.title = largernumbers,
        axis.text.x=element_text(angle= 80,hjust=1))

eCAAe <- ggplot(eCAA, mapping=aes(x=factor(year), y=CAA_enforcement, color=President, group=1))+
  scale_color_manual(values=c("#25539f", "#d43a69"))+
  geom_point(size=3)+
  geom_line()+
  labs(y="CAA Enforcement ($)", x="Year")+
  ggtitle("CAA Enforcement in MA 4")+
  theme_bw()+
  theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),panel.border = element_blank(),
        axis.line = element_line(colour = "black"),
        axis.title.x=largernumbers,
        axis.text.y=largernumbers2, axis.title.y=largernumbers,plot.title = largernumbers,
        axis.text.x=element_text(angle= 80,hjust=1))


(vCAAviol | iCAAinsp) / eCAAe



```
<div class="body">
### Add here: 

* Enforcement # over time since 2001	
* Number and Naming facilities with top compliance problems past 3 years
</div>


\pagebreak

<hr style="height:3px;border-width:0;color: #C1E0D7;background-color: #C1E0D7; margin-top: 4em">
##### Program Specific Information 

# Clean Water Act 

<div class="text-box-info">

The Clean Water Act is a series of regulations that govern discharges of pollutants and regulates water quality standards for waters of the United States. The CWA established the National Pollutant Discharge Elimination System (NPDES) which permits discharges of pollutants [EPA](https://www.epa.gov/laws-regulations/summary-clean-water-act). Unlike the CAA, CWA violations are reported automatically through the National Pollutant Discharge Elimination System (NPDES), so violations are recorded independently of facility inspections. CWA inspections often occur in response to recorded violations.
[More info on CWA](https://docs.google.com/presentation/d/1g6ZN3B5jvs3F1VAigiUtNNezjXdJnzuELfo9Deo9Y2w/edit?usp=sharing)
</div>

### Once we have the data, add here:

* Violations over time since 2001	
* Inspections over time since 2001	
* Enforcement ($ and #) over time since 2001	
* Number and Naming facilities with top compliance problems past 3 years	


\pagebreak

<hr style="height:3px;border-width:0;color: #C1E0D7;background-color: #C1E0D7; margin-top: 4em">
##### Program Specific Information 

# The Greenhouse Gas Reporting Program  

<div class="text-box-info">

The GHGRP is an EPA Program mandated by law that requires reporting of major sources and suppliers of GHG emissions in the United States, including from large direct emissions sources, fuel and industrial gas suppliers, and CO2 injections sites. About 8,000 facilities are required to report their emissions annually, covering 85-90% of total US Annual GHG emissions [EPA](https://www.epa.gov/ghgreporting). By reporting direct sources and suppliers in the same way, the program can misrepresent the geography of emissions, making it appear as if industrial regions have an excess of emissions and suburban areas--where many household-level direct emissions occur--have little to no emissions. 
[More info on GHGRP](https://docs.google.com/presentation/d/1oky0P2PSVsURLACzw6i3JaTtaNW_L1y0c2qpkEWBmds/edit?usp=sharing)

</div>

### Once we have the data, add here:

* Your district, 2010-2018 < what does this look like visually?
* Real world comparison	
* Major emitters in your district	


\pagebreak

<hr style="height:3px;border-width:0;color: #C1E0D7;background-color: #C1E0D7; margin-top: 4em">


##### About the Report  

# Data Limitations   

<div class="text-box-info">

<h3>Disclaimer</h3>

<p>Info about COVID policy.</p>

</div>

* Gaps and Problems with ECHO data
  + Inability to assess compliance over time
  + Inability to easily assess data on politically-meaningful timeframes, e.g. 2, 4,     and 6 years. Just 3 and 5.
  + No idea how many facilities operated in the past
  + Multiple program IDs for a single facility/permit
  + Geocoding errors
  + Mislabeled times (e.g. the inspections that will occur in 2052)



\pagebreak

<hr style="height:3px;border-width:0;color: #C1E0D7;background-color: #C1E0D7; margin-top: 4em">


##### About the Report

# About the Authors

### About EEW and this Project

Environmental Enforcement Watch (EEW) is a collaborative project across EDGI working groups. The EEW project builds on EDGI’s 2019 [Sheep in the Closet Report](https://envirodatagov.org/publication/a-sheep-in-the-closet-the-erosion-of-enforcement-at-the-epa/) that documents large declines in EPA enforcement of environmental laws. This project and others used data from EPA’s [ECHO](https://echo.epa.gov/) database, revealing how useful ECHO could be for communities to track pollution and EPA responses in their areas. However, they also revealed the inaccessibility of ECHO for non-specialists, along with many omissions, errors, and confusions present in the data itself.

A key goal of EEW is to highlight gaps and inadequacies in the enforcement of environmental laws, demonstrating EPA’s failure to fulfill its congressionally mandated duty. To help bring awareness and action to the state of environmental non-compliance across the US, we are using Jupyter Notebooks that utilize ECHO data to present these congressional report cards for the 75 Senators and House Representatives that sit on the House Energy & Commerce Committee and the Senate Environment & Public Works Committee. By providing a novel and poignant look at the chronic state of non-compliance in their states and districts, we hope to provide these key representatives with the information and pressure they need to hold the EPA accountable. 


<div class="text-box-info">

<h3>About EDGI</h3>
<p>EDGI is an international network of over 175 members from more than 80 different academic institutions and non-profits, comprised foremost by grassroots volunteer efforts. Since 2016, EDGI has served as a preeminent watchdog group for federal environmental data, generating international effort to duplicate and monitor repositories of public data that are vital to environmental health research and knowledge.
EDGI’s work has been widely acknowledged, leading to EDGI testifying before Congress on declines in EPA enforcement, and hundreds of mentions in leading national and international media such as _The New York Times_,_The Washington Post_, Vice News, and CNN. For more about our work, read our [2019 Annual Report](https://envirodatagov.org/publication/edgi-annual-report-2019/)and [2020 Annual Report](https://envirodatagov.org/publication/edgi-annual-report-2020/).<p>

</div>


#### [Contact Us](https://www.environmentalenforcementwatch.org/contact/)

<div class="text-box-info">

<h3>Links to data will eventually appear here</h3>

</div>


<a href="https://www.environmentalenforcementwatch.org/"><img src="eew_logo.png" style="float: left; width: 25%; margin-left: 20%" ></a>

<a href="https://envirodatagov.org/"><img src="edgi_logo.png" style="float: right; width: 35%; margin-right: 20%" ></a>

